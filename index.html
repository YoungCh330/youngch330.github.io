<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"youngch330.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.18.0","exturl":false,"sidebar":{"position":"left","display":"remove","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Young&#39;s 博客">
<meta property="og:url" content="https://youngch330.github.io/index.html">
<meta property="og:site_name" content="Young&#39;s 博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Young">
<meta property="article:tag" content="Java,Python,算法,读书笔记">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://youngch330.github.io/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Young's 博客</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Young's 博客</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">心之所向，行必能至</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section">首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section">标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section">分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section">归档</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section">关于</a></li>
  </ul>
</nav>




</header>
    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://youngch330.github.io/2023/11/28/%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Young's 博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Young's 博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/28/%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/" class="post-title-link" itemprop="url">监督学习</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-11-28 22:40:26 / 修改时间：22:43:15" itemprop="dateCreated datePublished" datetime="2023-11-28T22:40:26+08:00">2023-11-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="线性回归">线性回归</h2>
<h3 id="线性回归函数">线性回归函数</h3>
<p>线性回归函数如下，其中w代表斜率，b代表截距； <span
class="math display">\[ f_{w,b}(x^{(i)}) = wx^{(i)} + b \]</span></p>
<h3 id="成本函数">成本函数</h3>
<p><span class="math display">\[J(w,b) = \frac{1}{2m} \sum\limits_{i =
0}^{m-1} (f_{w,b}(x^{(i)}) - y^{(i)})^2 \]</span> -
成本函数的关键是找到一个w和b，使得成本函数在训练集上的值最小或接近最小；
- 其中<span
class="math inline">\(f_{w,b}(x^{(i)})\)</span>为预测值，<span
class="math inline">\((f_{w,b}(x^{(i)})
-y^{(i)})^2\)</span>为预测值和目标值之差的平方；</p>
<h3 id="梯度下降算法">梯度下降算法</h3>
<p>梯度下降算法如下： <span class="math display">\[\begin{align*}
\text{repeat}&amp;\text{ until convergence:} \; \lbrace \newline
\;  w &amp;= w -  \alpha \frac{\partial J(w,b)}{\partial w} \; \newline
b &amp;= b -  \alpha \frac{\partial J(w,b)}{\partial b}  \newline
\rbrace
\end{align*}\]</span> 当参数w和b变化时，梯度算法实际上是求偏导数: <span
class="math display">\[
\begin{align}
\frac{\partial J(w,b)}{\partial w}  &amp;= \frac{1}{m} \sum\limits_{i =
0}^{m-1} (f_{w,b}(x^{(i)}) - y^{(i)})x^{(i)} \;\newline
\frac{\partial J(w,b)}{\partial b}  &amp;= \frac{1}{m} \sum\limits_{i =
0}^{m-1} (f_{w,b}(x^{(i)}) - y^{(i)}) \newline
\end{align}
\]</span></p>
<h3 id="特征缩放">特征缩放</h3>
<ol type="1">
<li>原始特征除特征值的最大值，将特征值缩放到[0,1];</li>
<li>均值归一化：计算特征的均值μ，通过公式<span
class="math inline">\(\frac{x-μ}{max-min}\)</span>将特征值调整到[-1,1]之间；</li>
<li>z-score标准化：计算特征的标准差σ和均值μ，通过公式<span
class="math inline">\(\frac{x-μ}{σ}\)</span>进行特征缩放；</li>
</ol>
<h3 id="通过向量实现线性回归">通过向量实现线性回归</h3>
<ol type="1">
<li>实现成本函数 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">compute_cost</span>(<span class="params">x,y,w,b</span>):</span><br><span class="line">    cost = np.<span class="built_in">sum</span>(((w * x + b) - y) ** <span class="number">2</span>) / (<span class="number">2</span> * m)</span><br><span class="line">    <span class="keyword">return</span> cost</span><br></pre></td></tr></table></figure></li>
<li>计算每次下降的梯度 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">compute_gradient</span>(<span class="params">x,y,w,b</span>):</span><br><span class="line">    dj_dw = np.<span class="built_in">sum</span>((w * x + b - y) * x) / m </span><br><span class="line">    dj_db = np.<span class="built_in">sum</span>((w * x) +b -y) / m</span><br><span class="line">    <span class="keyword">return</span> dj_dw,dj_db</span><br></pre></td></tr></table></figure></li>
<li>实现梯度下降算法,此时可获得最佳w,b进行预测 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">gradient_descent</span>(<span class="params">x, y, w_in, b_in, cost_function, gradient_function, alpha, num_iters</span>): </span><br><span class="line">    j_history = []</span><br><span class="line">    w = copy.deepcopy(w_in)</span><br><span class="line">    b = b_in</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num_iters):</span><br><span class="line">        dj_dw,dj_db = compute_gradient(x,y,w,b)</span><br><span class="line">        w = w - alpha * dj_dw</span><br><span class="line">        b = b - alpha * dj_db</span><br><span class="line">        j_history.append(compute_cost(x,y,w,b))</span><br><span class="line">    <span class="keyword">return</span> w,b,j_history</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="使用scikit-learn实现线性回归">使用scikit-learn实现线性回归</h3>
<ol type="1">
<li>加载数据</li>
<li>归一化处理：<code>StandardScaler.fit_transform(X_train)</code></li>
<li>拟合回归模型，获取参数w和b <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sgdr = SGDRegressor(max_iter=<span class="number">1000</span>)</span><br><span class="line">sgdr.fit(X_norm, y_train)</span><br><span class="line">b_norm = sgdr.intercept_</span><br><span class="line">w_norm = sgdr.coef_</span><br></pre></td></tr></table></figure></li>
<li>执行预测 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sgdr.predict(X_norm)</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="逻辑回归">逻辑回归</h2>
<h3 id="逻辑回归函数">逻辑回归函数</h3>
<p>z是线性回归模型的输出结果，g(z)代表对于给定的输入，结果为1的概率；
<span class="math display">\[g(z) = \frac{1}{1+e^{-z}}\]</span> <span
class="math display">\[z=wx+b\]</span></p>
<h3 id="损失函数">损失函数</h3>
<ol type="1">
<li><p>损失是单个示例与其目标值的差异度量，而成本是训练集损失的度量；</p></li>
<li><p>损失函数如下： <span class="math display">\[
\begin{equation*}
  loss(f_{\mathbf{w},b}(\mathbf{x}^{(i)}), y^{(i)}) = \begin{cases}
- \log\left(f_{\mathbf{w},b}\left( \mathbf{x}^{(i)} \right) \right)
&amp; \text{if $y^{(i)}=1$}\\
- \log \left( 1 - f_{\mathbf{w},b}\left( \mathbf{x}^{(i)} \right)
\right) &amp; \text{if $y^{(i)}=0$}
  \end{cases}
\end{equation*}
\]</span></p></li>
</ol>
<ul>
<li><span
class="math inline">\(f_{\mathbf{w},b}(\mathbf{x}^{(i)})\)</span>是模型的预测，<span
class="math inline">\(y^{(i)}\)</span>是目标值；</li>
<li><span class="math inline">\(f_{\mathbf{w},b}(\mathbf{x}^{(i)}) =
g(\mathbf{w} \cdot\mathbf{x}^{(i)}+b)\)</span> 函数<span
class="math inline">\(g\)</span>是sigmoid函数；</li>
</ul>
<ol start="3" type="1">
<li><p>成本函数如下： <span class="math display">\[J(w,b) = \frac{1}{m}
\sum\limits_{i = 1}^{m} (loss(f_{\mathbf{w},b}(\mathbf{x}^{(i)}),
y^{(i)})) \]</span></p></li>
<li><p>简化的损失函数： <span
class="math display">\[loss(f_{\mathbf{w},b}(\mathbf{x}^{(i)}), y^{(i)})
= -y^{(i)} \log\left(f_{\mathbf{w},b}\left( \mathbf{x}^{(i)} \right)
\right) - \left( 1 - y^{(i)}\right) \log \left( 1 -
f_{\mathbf{w},b}\left( \mathbf{x}^{(i)} \right)
\right)\]</span></p></li>
</ol>
<h3 id="梯度下降">梯度下降</h3>
<p>梯度下降算法如下： <span class="math display">\[\begin{align*}
\text{repeat}&amp;\text{ until convergence:} \; \lbrace \newline
\;  w &amp;= w -  \alpha \frac{\partial J(w,b)}{\partial w} \; \newline
b &amp;= b -  \alpha \frac{\partial J(w,b)}{\partial b}  \newline
\rbrace
\end{align*}\]</span> 当参数w和b变化时，梯度算法实际上是求偏导数: <span
class="math display">\[
\begin{align*}
\frac{\partial J(w,b)}{\partial w}  &amp;= \frac{1}{m} \sum\limits_{i =
0}^{m-1} (f_{w,b}(x^{(i)}) - y^{(i)})x^{(i)} \;\newline
\frac{\partial J(w,b)}{\partial b}  &amp;= \frac{1}{m} \sum\limits_{i =
0}^{m-1} (f_{w,b}(x^{(i)}) - y^{(i)}) \newline
\end{align*}
\]</span></p>
<h3 id="使用scikit-learn实现逻辑回归">使用scikit-learn实现逻辑回归</h3>
<ol type="1">
<li><p>拟合模型 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lr_model = LogisticRegression()</span><br><span class="line">lr_model.fit(X, y)</span><br></pre></td></tr></table></figure></p></li>
<li><p>进行预测 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y_pred = lr_model.predict(X)</span><br></pre></td></tr></table></figure></p></li>
</ol>
<h2 id="过拟合">过拟合</h2>
<h3 id="什么是过拟合">什么是过拟合</h3>
<p>完美适应训练集数据，但是在其他数据集上表现不佳；</p>
<h3 id="如何解决过拟合">如何解决过拟合</h3>
<ol type="1">
<li>收集更多的数据放入训练集中；</li>
<li>选择使用最相关的特征，当你有过多的特征但训练集数据不足时容易出现过拟合；</li>
<li>通过正则化减少参数的大小，相对特征选择是一种更温和的方式；</li>
</ol>
<h3 id="正则化">正则化</h3>
<ol type="1">
<li>通过差的平方和可避免模型与训练集拟合度不够，通过w的平方和可避免w过大产生的过拟合，特别是高阶多项式的过拟合问题；</li>
<li>思考当<span
class="math inline">\(\lambda\)</span>等于0或者等于无线大时，成本函数的含义是什么？</li>
</ol>
<h4 id="线性回归的正则化">线性回归的正则化</h4>
<p>正则化后的成本函数如下 <span class="math display">\[J(\mathbf{w},b) =
\frac{1}{2m} \sum\limits_{i = 0}^{m-1}
(f_{\mathbf{w},b}(\mathbf{x}^{(i)}) - y^{(i)})^2  +
\frac{\lambda}{2m}  \sum_{j=0}^{n-1} w_j^2\]</span></p>
<h4 id="逻辑回归的正则化">逻辑回归的正则化</h4>
<p>正则化后的成本函数如下 <span class="math display">\[J(\mathbf{w},b) =
\frac{1}{m}  \sum_{i=0}^{m-1} \left[ -y^{(i)}
\log\left(f_{\mathbf{w},b}\left( \mathbf{x}^{(i)} \right) \right) -
\left( 1 - y^{(i)}\right) \log \left( 1 - f_{\mathbf{w},b}\left(
\mathbf{x}^{(i)} \right) \right) \right] +
\frac{\lambda}{2m}  \sum_{j=0}^{n-1} w_j^2\]</span></p>
<h4 id="梯度下降-1">梯度下降</h4>
<p><span class="math display">\[\begin{align*}
\frac{\partial J(\mathbf{w},b)}{\partial w_j}  &amp;= \frac{1}{m}
\sum\limits_{i = 0}^{m-1} (f_{\mathbf{w},b}(\mathbf{x}^{(i)}) -
y^{(i)})x_{j}^{(i)}  +  \frac{\lambda}{m} w_j\\
\frac{\partial J(\mathbf{w},b)}{\partial b}  &amp;= \frac{1}{m}
\sum\limits_{i = 0}^{m-1} (f_{\mathbf{w},b}(\mathbf{x}^{(i)}) - y^{(i)})
\end{align*}\]</span></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://youngch330.github.io/2023/11/28/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Young's 博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Young's 博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/28/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" class="post-title-link" itemprop="url">神经网络</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-11-28 22:39:49 / 修改时间：22:43:26" itemprop="dateCreated datePublished" datetime="2023-11-28T22:39:49+08:00">2023-11-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://youngch330.github.io/2023/10/17/Matplotlib%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Young's 博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Young's 博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/17/Matplotlib%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" class="post-title-link" itemprop="url">Matplotlib数据可视化</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-10-17 09:01:47" itemprop="dateCreated datePublished" datetime="2023-10-17T09:01:47+08:00">2023-10-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-10-23 22:41:55" itemprop="dateModified" datetime="2023-10-23T22:41:55+08:00">2023-10-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" itemprop="url" rel="index"><span itemprop="name">数据分析</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="线形图">线形图</h3>
<ol type="1">
<li>简单线形图的步骤,其中figure代表一个图形实例，ax表示一个坐标轴实例；
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">ax = plt.axes()</span><br><span class="line">ax.plot(x,np.sin(x))</span><br></pre></td></tr></table></figure></li>
<li>调整线条的颜色与风格
<ul>
<li><code>plt.plot(x,np.sin(x),color='blue')</code>,颜色支持标准颜色、颜色缩写、16进制、RGB颜色、范围在[0,1]的灰度值等；</li>
<li><code>plt.plot(x,np.sin(x),linestyle='-')</code>,调整线条的风格，包含实线(-)、虚线(--)、点划线(-.)、实点线(:)；</li>
</ul></li>
<li>调整坐标轴的上下限
<ul>
<li><code>plt.xlim(-1,1)</code>、<code>plt.ylim(-1,1)</code>和<code>plt.axis([xmin,xmax,ymin,ymax])</code>
可调整坐标轴的上下限;</li>
<li><code>plt.axis('tight')</code>可以按照图形内容自动收紧坐标轴；</li>
<li><code>plt.axis('equal')</code>可以让xy轴的单位长度相等；</li>
</ul></li>
<li>设置图形标签
<ul>
<li><code>plt.title("Title")</code>可设置图形标题；</li>
<li><code>plt.xlable("title")</code>和<code>plt.ylable('title')</code>可设置坐标轴标题；</li>
<li><code>plt.plot(x,sin(x),label='sin(x)')</code>为每条线设置标签；</li>
</ul></li>
</ol>
<h3 id="简易散点图">简易散点图</h3>
<ol type="1">
<li><code>plt.plot(x,sin(x),'o')</code>创建散点图</li>
<li><code>plt.scatter(x,sin(x),c=colors,s=sizes,alpha=0.3)</code>也可创建散点图，可以单独为每个点设置大小和颜色，数据量较大时性能比plot差；</li>
</ol>
<h3 id="直方图">直方图</h3>
<ol type="1">
<li><code>plt.hist(data, bins=30, normed=True, alpha=0.5,histtype='stepfilled', color='steelblue',edgecolor='none');</code>创建直方图</li>
</ol>
<h3 id="子图">子图</h3>
<ol type="1">
<li><code>figure.add_axes</code>可以一个图内创建多个坐标轴；</li>
<li><code>plt.subplot</code>在网格中创建多个子图，<code>fig.subplots_adjust(hspace=0.4, wspace=0.4)</code>可以设置多个子图的间隔；</li>
<li><code>fig, ax = plt.subplots(2, 3, sharex='col', sharey='row')</code>可以一次创建多个子图；</li>
</ol>
<h3 id="刻度配置">刻度配置</h3>
<ol type="1">
<li><code>ax.yaxis.set_major_locator(plt.NullLocator())</code>和<code>ax.yaxis.set_major_locator(plt.NullFormatter())</code></li>
</ol>
<table>
<colgroup>
<col style="width: 23%" />
<col style="width: 23%" />
<col style="width: 29%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr class="header">
<th>定位器类</th>
<th>描述</th>
<th>格式生成器类</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>NullLocator</td>
<td>无刻度</td>
<td>NullFormatter</td>
<td>刻度上无标签</td>
</tr>
<tr class="even">
<td>FixedLocator</td>
<td>刻度位置固定</td>
<td>IndexFormatter</td>
<td>将一组标签设置为字符串</td>
</tr>
<tr class="odd">
<td>IndexLocator</td>
<td>用索引作为定位器</td>
<td>FixedFormatter</td>
<td>手动为刻度设置标签</td>
</tr>
<tr class="even">
<td>LinearLocator</td>
<td>从min到max均匀分布刻度</td>
<td>FuncFormatter</td>
<td>用自定义函数设置标签</td>
</tr>
<tr class="odd">
<td>LogLocator</td>
<td>从min到max按对数分布刻度</td>
<td>FormatStrFormatter</td>
<td>为每个刻度值设置字符串格式</td>
</tr>
<tr class="even">
<td>MultipleLocator</td>
<td>刻度和范围都是基数(base)的倍数</td>
<td>ScalarFormatter</td>
<td>(默认)为标量值设置标签</td>
</tr>
<tr class="odd">
<td>MaxNLocator</td>
<td>为最大刻度找到最优位置</td>
<td>LogFormatter</td>
<td>对数坐标轴的默认格式生成器</td>
</tr>
<tr class="even">
<td>AutoLocator</td>
<td>(默认)以MaxNLocator进行简单配置</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>AutoMinorLocator</td>
<td>次要刻度的定位器</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="默认配置">默认配置</h3>
<ol type="1">
<li>plt.rcParams可获得一个运行时配置，包含了图形元素的默认风格，可用plt.rc随时修改这个配置；</li>
<li>plt.style获取matplotlib支持的样式表，通过<code>plt.style.use('stylename')</code>来切换风格；</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://youngch330.github.io/2023/09/27/%E7%88%B8%E7%88%B8%E5%BF%98%E8%AE%B0%E4%BA%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Young's 博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Young's 博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/09/27/%E7%88%B8%E7%88%B8%E5%BF%98%E8%AE%B0%E4%BA%86/" class="post-title-link" itemprop="url">爸爸忘记了</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-09-27 16:18:31 / 修改时间：16:25:42" itemprop="dateCreated datePublished" datetime="2023-09-27T16:18:31+08:00">2023-09-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%9D%82/" itemprop="url" rel="index"><span itemprop="name">杂</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="爸爸忘记了">《爸爸忘记了》</h3>
<p>W.利文斯顿.拉尼徳</p>
<p>我想对你说，我的儿子：写下这些话时，你睡得正酣。你的小手放在脸蛋下面，弯曲的金发被汗水濡湿，紧贴着额头。我独自一人偷偷走进你的房间。几分钟之前，我在书房里读报时，强烈的懊悔折磨着我的内心。因此，这一刻，我歉疚地来到你的床边。</p>
<p>这些事始终在我心头萦绕，我的儿子：我之前一直对你乱发脾气。上学之前你不好好洗脸，我骂了你；你不把鞋擦干净，我又数落你；你把东西乱丢，我对你大声嚷嚷。</p>
<p>吃早餐时我也一直在挑你的毛病——你把饭洒了，你嚼得太快，你把胳膊肘放在桌子上，你面包上的黄油抹得太厚……你去玩的时候我正要出门赶火车，你转过身来，挥着小手对我喊：“爸爸再见！”我却紧皱眉头，以这句话回答你：“别驼背！”</p>
<p>下午又是如此。回家途中，我审视着你——你正跪在地上打弹珠，袜子都磨破了。我强行把你拽回家，让你在小伙伴面前丢脸。“袜子很贵的！等你自己赚钱的时候你就知道珍惜了！”你听听，我的儿子，这就是一个当父亲的说的话！</p>
<p>你还记得吗，后来我在书房里看报纸的时候，你怯生生地走过来，眼睛里闪过一丝伤心。我抬了抬眼，对你的打搅很不耐烦。你在门口犹疑着，而我却厉声问：“又有什么事？”</p>
<p>你什么都没说，只是一阵风似的跑过来，抱住我的脖子，亲了亲我。你的小胳膊紧紧地搂着我，上帝赐予的爱意如花朵般在你的心中盛开，连我的漠视都不曾令它枯萎。然后你就转身跑掉了，我听到你啪嗒啪嗒跑上楼的声音。</p>
<p>就在那时，我的儿子，报纸从我手中滑落，我心里充满了厌恶和惊惧——我什么时候变成了这样？吹毛求疵、任意斥责——这就是我对一个小男孩的回报。我不是不爱你，我的儿子，我只是对你抱有那么多的期待，总是用大人的标准衡量你。</p>
<p>你个性中有那么多优点，那么美好，那么真诚。你跑进来亲我，同我道晚安，幼小的心灵如同黎明破晓时点亮群山的阳光。今晚，其他任何事情都不再重要，我的儿子。我在你的床边悄悄跪下，心中充满愧疚。</p>
<p>我知道这忏悔于事无补，我知道你或许还不懂得这些话的含义，但是我下定决心，从明天起，要做一个合格的父亲。我要成为你最好的朋友，你难过的时候，我陪你难过，你大笑的时候，我陪你大笑。当不耐烦的言语再次涌到嘴边，我会闭紧双唇，提醒自己：“他还只是个孩子，一个小孩子！”</p>
<p>我很抱歉一直把你当作大人来对待。而现在，我仔细地端详着你，我的儿子，端详着你困倦地蜷伏在婴儿床里，此刻我才真真切切地意识到，你还那么小。仿佛就在昨天，你还躺在妈妈的臂弯里，依偎着她的肩膀。我对你要求得太多了，太多了……</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://youngch330.github.io/2023/09/24/pandas%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Young's 博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Young's 博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/09/24/pandas%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE/" class="post-title-link" itemprop="url">pandas处理数据</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-09-24 22:03:50" itemprop="dateCreated datePublished" datetime="2023-09-24T22:03:50+08:00">2023-09-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-10-16 23:17:14" itemprop="dateModified" datetime="2023-10-16T23:17:14+08:00">2023-10-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" itemprop="url" rel="index"><span itemprop="name">数据分析</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="核心对象">核心对象</h3>
<ol type="1">
<li>Series是一个带索引数据构成的一堆数组，是一种将类型键映射到一组类型值的数据结构，通过
<code>pd.Series(data,index=index)</code>可创建一个Series对象；与numpy数组的区别在于numpy数组通过隐式定义的整数索引获取数值，而Series对象用一种显式定义的索引与数值关联；</li>
<li>DataFrame 可以看作一种通用的 NumPy
二维数组，它的行与列都可以通过索引获取；DataFrame和Numpy二维数组的区别在于df[0]返回的是索引为0的列，而data[0]返回的是第一行；DataFrame可通过以下几种方式来创建：
<ul>
<li>通过单个Series创建:
<code>df=pd.DataFrame(data,columns=['column'])</code></li>
<li>通过字典列表来创建：<code>df=pd.DataFrame([&#123;'a':i,'b':i*2&#125; for i in range(3)])</code></li>
<li>通过多个Series对象字典创建：
<code>df=pd.DataFrame(&#123;'population':population,'area':area&#125;)</code>，索引取并集，不存在的值使用NaN补齐；</li>
<li>通过numpy二维数组创建：<code>df=pd.DataFrame(np.rand.random(3,2),columns=['foo','bar'],index=['a','b','c'])</code></li>
<li>通过numpy结构化数组创建：<code>df=pd.DataFrame(np.zeros(3,dtype=[('A','i8'),('B','f8')]))</code></li>
</ul></li>
<li>Index可以看作一个不可变数组或有序集合；</li>
</ol>
<h3 id="数据取值与选择">数据取值与选择</h3>
<ol type="1">
<li>Series和字典一样提供了键值对的映射，如
<code>data.items()、data.keys()、x in data、data[x]</code>等操作；Series和numpy数组一样提供了切片
<code>data[1:3]</code>、掩码
<code>data[(data &gt; 0.8) &amp; (data &lt; 1)]</code>、花哨的索引
<code>data[[x,y]]</code>；当Series是显式整数索引时，使用data[1]和data[1:3]容易造成混淆，通过使用loc(直接使用整数索引形式的显示索引)和iloc(使用python形式的隐式索引)来代替；</li>
<li>DataFrame类似于字典可通过 <code>data['column']</code>和
<code>data['column']=data['a']+data['b']</code>来获取和新增列；类似于数组，通过使用通过使用索引器loc(直接使用整数索引形式的显示索引)和iloc(使用python形式的隐式索引)来选择数据；</li>
</ol>
<h3 id="处理缺失值">处理缺失值</h3>
<ol type="1">
<li>一般有两种方法：一种是通过一个覆盖全局的掩码表示缺失值，一种是用一个标签值表示缺失值；</li>
<li>pandas选择使用标签方法表示缺失值：
<ul>
<li>None：由于None是一个python对象，只能用于'object'数组类型；</li>
<li>Nan：数值类型的缺失值，无论和Nan进行何种操作，最终结果都是Nan；</li>
<li>通过isnull()、notnull()、dropna()、fillna()等方法来发现、剔除、替换数据结构中的缺失值；</li>
</ul></li>
</ol>
<h3 id="层级索引">层级索引</h3>
<ol type="1">
<li>使用多级索引后，<code>data.unstack()</code>可以将Series转换为DataFrame，<code>data.stack()</code>可以将DataFrame转换为Series；</li>
<li>创建多级索引的方法：
<ul>
<li>将index参数设置为至少二维的索引数组；</li>
<li>将元组作为键的字典传递给Pandas；</li>
<li>使用pd.MultiIndex显示的创建多级索引，可以通过names属性设置等级名称；</li>
</ul></li>
<li>在Series中使用层级索引，可直接参考数组的切片功能；在DataFrame中使用多级索引，最好使用IndexSlice以避免语法错误；
<ul>
<li>层级索引需要有序，否则在调用时会报错，可使用data.sort_index()进行自动重排序；</li>
</ul></li>
<li>针对层级索引调用数据累计方法时，可以设置level实现对数据子集的累计操作，如
<code>data.mean(level='year')</code>；</li>
</ol>
<h3 id="合并数据集">合并数据集</h3>
<ol type="1">
<li><code>pd.contact()</code>可以简单的合并Series和DataFrame对象，默认都是逐行进行合并的；</li>
<li><code>pd.contact()</code>在合并时会保留重复索引，可设置verify_integrity=True，合并时若有索引重复就会触发异常；设置ingore_index=True，合并时会忽略原有索引，重新创建一个新的整数索引；可设置keys=['A','B']为数据源设置多级目标索引；</li>
<li><code>pd.contact()</code>默认的合并方式是对所有数据取并集，对缺失的数据使用NaN表示，可设置join='inner'实现对输入列的交集合并；设置join_axes=df.index直接确认结果使用的列名；</li>
<li><code>pd.merge()</code>可合并两个DataFrame，通过on指定合并的键值；如果需合并的键值名不一样时，可通过left_on和right_on来指定；通过设置how参数来指定使用内连接、左连接、右连接或外连接的形式；</li>
<li>案例：如何获取美国各州的人口密度排名；</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">abb_data = pd.read_csv(<span class="string">&#x27;data/state-abbrevs.csv&#x27;</span>)</span><br><span class="line">area_data = pd.read_csv(<span class="string">&#x27;data/state-areas.csv&#x27;</span>)</span><br><span class="line">pop_data = pd.read_csv(<span class="string">&#x27;data/state-population.csv&#x27;</span>)</span><br><span class="line"><span class="comment">#首先合并数据</span></span><br><span class="line">merged = pop_data.merge(abb_data,how=<span class="string">&#x27;outer&#x27;</span>,left_on=<span class="string">&#x27;state/region&#x27;</span>,right_on=<span class="string">&#x27;abbreviation&#x27;</span>)</span><br><span class="line"><span class="comment">#去除多余的列</span></span><br><span class="line">merged = merged.drop(<span class="string">&#x27;abbreviation&#x27;</span>,axis=<span class="number">1</span>)</span><br><span class="line"><span class="comment">#数据校验，去除空值</span></span><br><span class="line"><span class="built_in">print</span>(merged.isnull().<span class="built_in">any</span>())</span><br><span class="line"><span class="comment">#PR的人口缺失</span></span><br><span class="line"><span class="built_in">print</span>(merged[merged[<span class="string">&#x27;population&#x27;</span>].isnull()].head(<span class="number">20</span>))</span><br><span class="line"><span class="built_in">print</span>(merged.loc[merged[<span class="string">&#x27;state&#x27;</span>].isnull(),<span class="string">&#x27;state/region&#x27;</span>].unique())</span><br><span class="line"><span class="comment">#两个问题：</span></span><br><span class="line"><span class="comment">#1、PR洲的人口数据缺失</span></span><br><span class="line"><span class="comment">#2、PR和USA没有对应的完整名称</span></span><br><span class="line">merged.loc[merged[<span class="string">&#x27;state/region&#x27;</span>] == <span class="string">&#x27;PR&#x27;</span>,<span class="string">&#x27;state&#x27;</span>]=<span class="string">&#x27;Puerto Rico&#x27;</span></span><br><span class="line">merged.loc[merged[<span class="string">&#x27;state/region&#x27;</span>] == <span class="string">&#x27;USA&#x27;</span>,<span class="string">&#x27;state&#x27;</span>]=<span class="string">&#x27;United States&#x27;</span></span><br><span class="line"><span class="comment">#合并面积数据</span></span><br><span class="line">final = merged.merge(area_data,on=<span class="string">&#x27;state&#x27;</span>,how=<span class="string">&#x27;left&#x27;</span>)</span><br><span class="line">final.isnull().<span class="built_in">any</span>()</span><br><span class="line"><span class="built_in">print</span>(final.loc[final[<span class="string">&#x27;area (sq. mi)&#x27;</span>].isnull(),<span class="string">&#x27;state&#x27;</span>].unique())</span><br><span class="line"><span class="comment">#这里删除全美的面积数据和缺失的人口数据</span></span><br><span class="line">final.dropna(inplace=<span class="literal">True</span>)</span><br><span class="line"><span class="comment">#查询2010年的数据，并计算人口密度</span></span><br><span class="line">data = final.query(<span class="string">&quot;year == 2010 &amp; ages == &#x27;total&#x27;&quot;</span>)</span><br><span class="line">data.set_index(<span class="string">&#x27;state&#x27;</span>,inplace=<span class="literal">True</span>)</span><br><span class="line">density = data[<span class="string">&#x27;population&#x27;</span>]/data[<span class="string">&#x27;area (sq. mi)&#x27;</span>]</span><br><span class="line">density.sort_values(ascending=<span class="literal">False</span>,inplace=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(density.head())</span><br><span class="line"><span class="built_in">print</span>(density.tail())</span><br></pre></td></tr></table></figure>
<h3 id="累计与分组">累计与分组</h3>
<ol type="1">
<li>DataFrame默认对每列进行统计，设置
<code>axis='columns'</code>可对每一行进行统计；</li>
<li>pandas内置的累计方法：</li>
</ol>
<table>
<thead>
<tr class="header">
<th>指标</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>count()</td>
<td>计数项</td>
</tr>
<tr class="even">
<td>first()、last()</td>
<td>第一项和最后一项</td>
</tr>
<tr class="odd">
<td>mean()、median()</td>
<td>均值、中位数</td>
</tr>
<tr class="even">
<td>min()、max()</td>
<td>最小值和最大值</td>
</tr>
<tr class="odd">
<td>std()、var()</td>
<td>标准差和方差</td>
</tr>
<tr class="even">
<td>mad()</td>
<td>均值绝对偏差</td>
</tr>
<tr class="odd">
<td>prod()</td>
<td>所有项乘积</td>
</tr>
<tr class="even">
<td>sum()</td>
<td>所有项之和</td>
</tr>
</tbody>
</table>
<ol start="3" type="1">
<li>groupby的过程：分割、应用和组合，groupby的中间分割过程不需要显示的暴露出来；
<ul>
<li>分割步骤将DataFrame按照指定的键分割成若干组；</li>
<li>应用步骤对每个组应用函数，通常是累计、转换或过滤函数；</li>
<li>组合步骤将每一组的结果合并成一个输出数组；</li>
</ul></li>
<li>GroupBy对象的累计、过滤、转换和应用：
<ul>
<li>aggregate()方法支持一次进行多个累计运算，如
<code>data.groupby('key').aggregate(np.sum,np.min,np.mean)</code>；也可以指定不同的列使用不同的累计函数，如
<code>data.groupby('key').aggregate(&#123;'column1':np.sum,'column2':np.mean&#125;)</code>；</li>
<li>filter支持过滤掉不需要的数据，如
<code>data.groupby('key').filter(filter_func)</code>，其中filter_func的入参是分组，出参是该分组是否通过过滤；</li>
<li>转换会返回一个与原数据形状一样的全新数据，常用来将标准数据减去均值以实现数据标准化，如
<code>data.groupby('key').transfrom(lambda x : x - x.mean())</code>；</li>
<li>apply方法可以在分组上应用任意方法，方法的入参是DataFrame，出参则是一个pandas对象(DataFrame或Series)；</li>
</ul></li>
<li>分组的方法：
<ul>
<li>列表、数组、Series
或索引作为分组键，<code>df.groupby([0,1,2,0,1,0]).sum()</code>；</li>
<li>字典或 Series
将索引映射到分组名称，<code>df.groupby(&#123;'A':'China','B':'USA'&#125;).sum()</code></li>
<li>任意python函数,<code>df.groupby(str.lower).mean()</code></li>
</ul></li>
</ol>
<h3 id="数据透视表">数据透视表</h3>
<p>数据透视表将每一列数据作为输入，输出将数据不断细分成多个维度累计信息的二维数据表，像一种多维的GroupBy累计操作；数据透视表的完整签名为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DataFrame.pivot_table(data, values=<span class="literal">None</span>,index=<span class="literal">None</span>, columns=<span class="literal">None</span>,aggfunc=<span class="string">&#x27;mean&#x27;</span>, fill_value=<span class="literal">None</span>,margins=<span class="literal">False</span>,dropna=<span class="literal">True</span>,margins_name=<span class="string">&#x27;All&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="向量化字符串操作">向量化字符串操作</h3>
<ol type="1">
<li>Pandas为包含字符串的Series和Index对象提供的str属性可以满足向量化字符串操作的需求，也可以正确的处理缺失值；</li>
<li>pandas中可使用的字符串向量方法：
<ul>
<li>与python字符串类似的方法：data.str.len()、data.str.lower()等</li>
<li>使用正则表达式方法，data.str.match()、data.str.findall(r'')等</li>
<li>其他如get()、slice()等字符串方法</li>
</ul></li>
</ol>
<h3 id="处理时间序列">处理时间序列</h3>
<ol type="1">
<li><p>Pandas 用来处理时间序列的基础数据类型：</p>
<ul>
<li>针对时间戳数据，Pandas提供了Timestamp类型；基于numpy的datetime64类型创建，对应的索引类型为DatetimeIndex；</li>
<li>针对时间周期数据，Pandas提供了Period类型；对应的索引类型为PeriodIndex，任何DatetimeIndex均可通过to_period转为PeriodIndex；</li>
<li>针对时间增量或持续时间，Pandas提供了Timedelta类型；基于numpy的timedelta64类型创建，对应的索引数据结构是TimedeltaIndex；用一个日期减去另一个日期时，返回的结果是
**TimedeltaIndex类型</li>
</ul></li>
<li><p>通过
<code>pd.date_range('2020-01-01',preiod=8,freq='D')、pd.period_range('2015-07', periods=8, freq='M')、pd.timedelta_range(0, periods=10, freq='H')</code>来快速创建时间序列；</p></li>
<li><p>pandas时间频率和偏移量代码： | 代码 | 描述 | 代码 | 描述 | | ----
| -------------- | ---- | -------------- | | D | 天 | BM |
月末(仅工作日) | | W | 周 | BQ | 季末(仅工作日) | | M | 月末 | BA |
年末(仅工作日) | | Q | 季末 | BH | 小时，工作时间 | | A | 年末 | MS |
月初 | | H | 小时 | BMS | 月初，仅工作日 | | T | 分钟 | QS | 季初 | | S
| 秒 | BQS | 季初，仅工作日 | | L | 毫秒 | AS | 年初 | | U | 微秒 | BAS
| 年初，仅工作日 | | N | 纳秒 | | | | B | 天(仅含工作日) | | |</p></li>
</ol>
<h3 id="高性能的eval">高性能的eval()</h3>
<ol type="1">
<li>numpy的复合代数式计算会在中间过程显示的分配内存，Numexpr在计算代数式时不需要为临时数组分配全部内存,<code>numexpr.evaluate('(x &gt; 0.5) &amp; (y &lt; 0.5)')</code>；</li>
<li><code>pandas.eval('d1+d2+d3+d4')</code>支持算术运算符、比较运算符、位运算符、对象属性与索引；其他如函数调用、条件语句、循环及更复杂的运算可通过numexpr来实现；</li>
<li><code>df.eval('D = (A+B)/C')</code>支持新增列、局部变量(使用@符号)；<code>df.query('A&gt;0.5 &amp; B &lt; 0.4')</code>支持过滤运算，也支持使用局部变量；</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://youngch330.github.io/2023/08/27/%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Young's 博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Young's 博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/27/%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6/" class="post-title-link" itemprop="url">读写文件</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-08-27 16:02:13" itemprop="dateCreated datePublished" datetime="2023-08-27T16:02:13+08:00">2023-08-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-09-26 14:57:41" itemprop="dateModified" datetime="2023-09-26T14:57:41+08:00">2023-09-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="如何获取文件">如何获取文件</h3>
<ol type="1">
<li>使用pathlib中的Path替代os.path()；</li>
<li>始终使用正斜杠/以确保程序在不同操作系统中均可正常运行；尽量使用/运算符来连接路径，第一个对象必须是Path，如
<code>Path('documents') / 'data.xlsx'</code>；</li>
<li>绝对路径：总是从根文件夹开始，可以使用
<code>path.is_absolute()</code>判断是否为绝对路径；相对路径：相对于程序的当前工作目录
<code>Path.cwd()</code>，可以使用
<code>Path.cwd() / Path('相对路径')</code>将相对路径转化为绝对路径；</li>
<li><code>path.anchor</code>获取系统的根文件夹；<code>path.parent</code>获取父文件夹，返回一个path对象；<code>path.parents</code>返回一组path对象，代表祖先文件夹；<code>path.name</code>由
<code>path.stem</code>主干名和 <code>path.suffix</code>后缀组成；</li>
<li><code>path.glob()</code>将返回一个生成器对象，将该对象传递给
<code>list()</code>方法可根据通配符模式列出文件夹的内容，如
<code>path.glob('*.py')</code>将返回文件夹下所有py结尾的文件；</li>
<li>通过 <code>path.exists()</code>来确认路径是否存在，通过
<code>path.is_file()</code>和
<code>path.is_dir()</code>确认该路径是文件或文件夹；</li>
</ol>
<h3 id="如何读写文件">如何读写文件</h3>
<ol type="1">
<li>三个步骤：
<ul>
<li>调用
<code>open()</code>函数，返回一个File对象；通过传入r/w/a来开启读模式、写模式或添加模式；如果传递给
<code>open()</code>的文件名不存在，在写或添加模式下都会创建文件；</li>
<li>调用File对象的 <code>read()</code>或 <code>write()</code>方法；</li>
<li>调用File对象的 <code>close()</code>方法，关闭该文件；</li>
</ul></li>
<li>利用shelve模块可以将变量以二进制的形式保存到shelve文件中
<ul>
<li><code>shelve.open()</code>打开文件；</li>
<li><code>shelve['xxx']=xxx</code>来对shelve的值进行修改；</li>
<li><code>shelve['xxx']</code>读取shelve中key为xxx的值；</li>
<li><code>shelve.close()</code>将shelve文件保存到硬盘上；</li>
</ul></li>
<li>通过 <code>pprint.pformat()</code>将字典转为易读的字符串并通过
<code>path.write()</code>方法写入文本文档中，以便可以使用notepad等工具随时修改；</li>
</ol>
<h3 id="如何组合文件">如何组合文件</h3>
<ol type="1">
<li><code>shutil.copy(source,destination)</code>将路径处的文件复制到路径destination处的文件夹；通过
<code>shutil.move(source,destination)</code>实现文件的移动和重命名;<code>os.unlink(path)</code>会删除path处的文件;<code>os.rmdir(path)</code>会删除path处的文件夹，该文件夹必须为空；<code>shutil.rmtree(path)</code>将删除path处的文件夹，包含所有子文件及文件夹；</li>
<li><code>os.work()</code>返回当前文件夹名称、当前文件夹子文件夹字符串列表、当前文件夹下文件字符串列表；</li>
<li><code>zipfile.ZipFile(path)</code>可获取zip文件对象，<code>example.namelist()</code>获取压缩文件下所有文件及文件夹；<code>example.getinfo(filename)</code>获得压缩文件中指定文件信息，<code>zipinfo.file_size()</code>和
<code>zipinfo.compress_size()</code>分别获得文件原始大小和压缩后的文件大小；<code>example.exract(filename,path)</code>可将文件解压到指定目录；<code>zipfile.ZipFile('xxx.zip','w')</code>将创建一个压缩文件，通过
<code>example.write(filename)</code>将指定文件压缩至zip文件中。</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://youngch330.github.io/2023/08/22/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Young's 博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Young's 博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/22/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="post-title-link" itemprop="url">正则表达式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-08-22 22:51:23" itemprop="dateCreated datePublished" datetime="2023-08-22T22:51:23+08:00">2023-08-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-09-26 14:58:26" itemprop="dateModified" datetime="2023-09-26T14:58:26+08:00">2023-09-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="使用步骤">使用步骤</h3>
<ol type="1">
<li>用 <code>import re</code>导入正则表达式模块</li>
<li>用 <code>re.compile()</code>函数创建一个Regex对象</li>
<li>向Regex对象的
<code>search()</code>方法传入想要查找的字符串，它返回一个Match对象</li>
<li>调用Match对象的
<code>group()</code>方法，返回实际匹配文本的字符串</li>
</ol>
<h3 id="常用匹配模式">常用匹配模式</h3>
<ol type="1">
<li>利用括号进行分组，如
<code>r'(\d&#123;3&#125;)-(\d&#123;8&#125;)'</code>,group(1)返回第一组即为区号0755，group(2)返回实际电话号码88888888；</li>
<li>通过使用管道字符'|'来匹配表达式中的一个，如
<code>r'Batman|Tina Fay'</code>表达式将匹配Batman或Tina
Fay，第一次出现的文本将作为Match对象返回；</li>
<li>使用管道来匹配多个模式中的一个，如
<code>r'Bat(man|woman|bat|mobile)'</code>将匹配Batman、Batwoman、Batbat中的任意一个；</li>
<li>字符?表明它前面的分组是可选（0次或一次）的，如
<code>r'Bat(wo)?man'</code>打标wo可出现0次或1次，该表达式可匹配Batman和Batwoman；</li>
<li>字符*表明它前面的分组可匹配0次或多次，可参考字符?的用法；</li>
<li>字符+表明它前面的分组可匹配1次或多次，可参考字符?的用法；</li>
<li>用{3}、{3，5}、{3，}、{，5}匹配指定次数，可参考字符?的用法；</li>
<li>python的正则表达式默认是贪心匹配，即
<code>Ha&#123;3，5&#125;</code>尽可能匹配到长的字符；如果需要实现非贪心匹配，需要调整为
<code>Ha&#123;3,5&#125;?</code>；</li>
<li>findAll()方法：如果在一个没有分组的表达式上调用，返回一个匹配字符串的列表；如果在有分组的表达式上调用，返回一个字符串的元组的列表；</li>
<li>使用方括号建立自己的字符分类，如
<code>[aeiouAEIOU]</code>将匹配所有的元音字符，且不区分大小写；在方括号类，普通的正则表达式不会被解释；在左方括号后插入字符^代表取非；</li>
<li>在正则表达式开始处插入符号(^)表明匹配必须发生在被查找文本开始出，在结尾出插入符号($)表明字符串必须以这个正则表达式的模式结束；</li>
<li>通配字符：.(句点)匹配除换行符以外的所有字符，通过
<code>re.compile()</code>第二个参数传入re.DOTALL可使用句点匹配换行符；</li>
<li>使用 <code>sub()</code>函数可替换正则表达式匹配到的模式;</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://youngch330.github.io/2023/08/08/%E7%BF%BB%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%87%8C%E7%9A%84%E5%8D%95%E8%AF%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Young's 博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Young's 博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/08/%E7%BF%BB%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%87%8C%E7%9A%84%E5%8D%95%E8%AF%8D/" class="post-title-link" itemprop="url">翻转字符串里的单词</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-08-08 22:07:18" itemprop="dateCreated datePublished" datetime="2023-08-08T22:07:18+08:00">2023-08-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-09-26 14:57:38" itemprop="dateModified" datetime="2023-09-26T14:57:38+08:00">2023-09-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="题目描述">题目描述</h3>
<p>给你一个字符串s
，请你反转字符串中单词的顺序。单词是由非空格字符组成的字符串，
s中使用至少一个空格将字符串中的单词分隔开，</p>
<p>返回单词顺序颠倒且单词之间用单个空格连接的结果字符串。</p>
<p><strong>注意：</strong>
输入字符串s中可能会存在前导空格、尾随空格或者单词间的多个空格。返回的结果字符串中，单词间应当仅用单个空格分隔，且不包含任何额外的空格。</p>
<h3 id="解题思路">解题思路</h3>
<p>双指针的解题思路</p>
<p>1、fast、slow从后往前走，slow和fast的起点是非空格字符，fast逐步往前找到空格，此时s[fast,slow]就是一个单词</p>
<p>2、slow继续往前，直到slow碰到非空格，则开始下一个循环</p>
<p><strong>注意：</strong>题目要求的是翻转单词，而不是翻转字符</p>
<p>如果是翻转字符应该是从前往后，而翻转单词应该是从后往前，可以想想为什么</p>
<h3 id="python源码">python源码</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">solution</span>(<span class="params">s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    res = []</span><br><span class="line">    slow, fast = <span class="built_in">len</span>(s) - <span class="number">1</span>, <span class="built_in">len</span>(s) - <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> slow &gt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27; &#x27;</span> == s[slow]:</span><br><span class="line">            slow -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="string">&#x27; &#x27;</span> == s[fast]:</span><br><span class="line">            res.append(s[fast + <span class="number">1</span>:slow + <span class="number">1</span>])</span><br><span class="line">            slow = fast - <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> fast == <span class="number">0</span>:</span><br><span class="line">            res.append(s[fast:slow + <span class="number">1</span>])</span><br><span class="line">            slow = fast - <span class="number">1</span></span><br><span class="line">        fast -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span>.join(res)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://youngch330.github.io/2023/08/07/%E5%AD%97%E7%AC%A6%E7%BF%BB%E8%BD%AC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Young's 博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Young's 博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/07/%E5%AD%97%E7%AC%A6%E7%BF%BB%E8%BD%AC/" class="post-title-link" itemprop="url">字符翻转</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-08-07 13:18:04" itemprop="dateCreated datePublished" datetime="2023-08-07T13:18:04+08:00">2023-08-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-09-26 14:58:12" itemprop="dateModified" datetime="2023-09-26T14:58:12+08:00">2023-09-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="题目描述">题目描述</h3>
<p>给定一个字符串 <code>s</code> 和一个整数
<code>k</code>，从字符串开头算起，每计数至 <code>2k</code>
个字符，就反转这 <code>2k</code> 字符中的前 <code>k</code> 个字符。</p>
<ul>
<li>如果剩余字符少于 <code>k</code> 个，则将剩余字符全部反转。</li>
<li>如果剩余字符小于 <code>2k</code> 但大于或等于 <code>k</code>
个，则反转前 <code>k</code> 个字符，其余字符保持原样。</li>
</ul>
<h3 id="解题思路">解题思路</h3>
<p><strong>重点是掌握python的切片</strong></p>
<p>① 使用快慢指针对字符数组做切片，通过切片的翻转实现字符的翻转；</p>
<p>② 慢指针为start，快指针等于start+k，慢指针每次移动2k长度</p>
<h3 id="python源码">python源码</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">solution</span>(<span class="params">s: <span class="built_in">str</span>, k: <span class="built_in">int</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    start, s_len = <span class="number">0</span>, <span class="built_in">len</span>(s)</span><br><span class="line">    <span class="keyword">while</span> start &lt; s_len:</span><br><span class="line">        end = start + k</span><br><span class="line">        s = s[:start] + s[start:end][::-<span class="number">1</span>] + s[end:]</span><br><span class="line">        start += <span class="number">2</span> * k</span><br><span class="line">    <span class="keyword">return</span> s</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://youngch330.github.io/2023/08/03/%E8%B5%8E%E9%87%91%E4%BF%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Young's 博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Young's 博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/03/%E8%B5%8E%E9%87%91%E4%BF%A1/" class="post-title-link" itemprop="url">赎金信</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-08-03 22:39:28" itemprop="dateCreated datePublished" datetime="2023-08-03T22:39:28+08:00">2023-08-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-09-26 14:59:11" itemprop="dateModified" datetime="2023-09-26T14:59:11+08:00">2023-09-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="题目描述">题目描述</h3>
<p>给定一个赎金信 (ransom)
字符串和一个杂志(magazine)字符串，判断第一个字符串 ransom
能不能由第二个字符串 magazine 里面的字符构成。如果可以构成，返回 true
；否则返回 false。</p>
<p>注意：magazine中的每个字符只能在ransom中出现一次。</p>
<h3 id="解题思路">解题思路</h3>
<p>1、将magazine字符串中所出现的字符放入字典中，key为字符，value为该字符出现的次数</p>
<p>2、验证字典中字符是否已覆盖赎金信的字符，逐个获取赎金信的字符，找到字典中对应key的value并-1，出现某个value&lt;0时则说明magazine无法构成ransom。</p>
<h3 id="python源码">python源码</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">solution</span>(<span class="params">ransom: <span class="built_in">str</span>, magazine: <span class="built_in">str</span></span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">    <span class="comment"># 这里也可以用数组或者dict</span></span><br><span class="line">    magazine_map = defaultdict(<span class="built_in">int</span>)</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> magazine:</span><br><span class="line">        magazine_map[c] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> ransom:</span><br><span class="line">        value = magazine_map.get(c)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> value <span class="keyword">or</span> value == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        magazine_map[c] = value - <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Young</span>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
